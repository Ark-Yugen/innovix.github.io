<!DOCTYPE html>
<html> 
<head> 
  <title>o</title> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <meta name="author" content="Satyen Sriyanshu"> 
  <link rel="stylesheet" href="fontawesome/css/all.min.css"> 
  <link href="https://fonts.googleapis.com/css2?family=Julius+Sans+One&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="css/main.css"> 
  <link rel="stylesheet" href="css/contact.css"> 
  <link rel="stylesheet" href="css/portfolio.css"> 
  <link rel="stylesheet" href="css/nav.css"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"> 
  <link rel="shortcut icon" type="image/x-icon" href="images/logopfcweb.png"/>
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <nav>
    <input type="checkbox" id="chk">
    <label for="chk" class="show-menu-btn">
      <i class="fas fa-bars"></i>
    </label>
    <ul id="nav-ul">
      <li class="nav-li"><a class="nav-link selected">home</a></li>
      <li class="nav-li"><a class="nav-link">about</a></li>
      <li class="nav-li"><a class="nav-link">portfolio</a></li>
      <li class="nav-li"><a class="nav-link">contact</a></li>
      <label for="chk" class="hide-menu-btn"><i class="fas fa-times"></i></label>
    </ul>
  </nav>

  <div id="home">
    <div class="center">
      <h1 id="main-header">Satyen Sriyanshu</h1>
      <h3 id="sub-header">Student <span class="green-detail">&</span> Programmer</h3>
    </div>
  </div>

  <div id="portfolio" class="center">
    <div id="img-container"></div>
  </div>

  <div id="about">
    <div class="center">
      <h2 id="about-header">about me<span class="green-detail">:</span></h2>
      <p id="about-text">
        <br> 20 years old. <br> <br> B.Tech in CSE(AI&ML), SOA University 2028.
      </p>
    </div>
  </div>

  <div id="contact">
    <div id="contact-container">
      <h1 id="contact-header">contact me<span class="green-detail">:</span></h1>
      <form class="contact-form" id="contact-form" autocomplete="on">
        <input type="text" id="name" class="contact-form-text" name="name" placeholder="Name" required>
        <input type="email" id="mail" class="contact-form-text" name="mail" placeholder="E-mail" required>
        <textarea id="message" class="contact-form-text" name="message" placeholder="Message" required></textarea>
        <button type="submit" class="contact-form-btn" name="submit">Send</button>
      </form>
    </div>
  </div>
  
  <footer>
    <ul id="sm-ul">
      <li class="sm-li">
        <a class="sm-logo" href="https://discord.gg/satyen4430" target="_blank">
          <i class="fab fa-discord"></i>
        </a>
      </li>
      <li class="sm-li">
        <a class="sm-logo" href="proposal/proposal.html" target="_blank">
          <i class="fa-solid fa-circle-play"></i>
        </a>
      </li>
      <li class="sm-li">
        <a class="sm-logo" href="https://www.instagram.com/ark.yugen/" target="_blank">
          <i class="fab fa-instagram"></i>
        </a>
      </li>
      <li class="sm-li">
        <a class="sm-logo" href="https://www.snapchat.com/add/satyensriyanshu" target="_blank">
          <i class="fab fa-snapchat"></i>
        </a>
      </li>
      <li class="sm-li">
        <a class="sm-logo" href="https://github.com/Ark-Yugen" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      </li>
    </ul>
  </footer>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <script src="js/main.js"></script>
  <script src="js/components.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js").catch(()=>{});
    }

    // Build the text that will be drafted into Telegram
    function buildTelegramText({ name, email, message }) {
      return `This is message as hii\n\nName: ${name}\nEmail: ${email}\nMessage: ${message}`;
    }

    // Fallback helper: copy text, open share dialog, show tip
    async function fallbackShare(text) {
      try { await navigator.clipboard.writeText(text); } catch(e) {}
      const encoded = encodeURIComponent(text);
      window.open(`https://t.me/share/url?url=&text=${encoded}`, "_blank", "noopener");
      alert("If the message isn't pre-filled, it's copied to your clipboard. Paste it in Telegram and send to @ark_yugen.");
    }

    document.getElementById("contact-form").addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("mail").value.trim();
      const message = document.getElementById("message").value.trim();

      const draft = buildTelegramText({ name, email, message });
      const encoded = encodeURIComponent(draft);

      // Try direct draft to the user chat (works on some clients)
      const tme = `https://t.me/ark_yugen?text=${encoded}`;
      const opened = window.open(tme, "_blank", "noopener");

      // If popup blocked (or client ignores ?text), do a soft fallback
      setTimeout(() => {
        if (!opened || opened.closed) {
          fallbackShare(draft);
        }
      }, 600);
    });
  </script>

  <script src="fontawesome/js/all.min.js"></script>
</body>
</html>
